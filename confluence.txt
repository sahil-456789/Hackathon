CONFLUENCE DOCUMENTS DATA EXPORT
Generated on: 2025-09-20 12:23:04
Requested Document IDs: 3971711530, 4016570436
================================================================================

DOCUMENTS SUMMARY
Total Documents Requested: 2
Total Documents Retrieved: 2
Success Rate: 2/2 (100.0%)
================================================================================

DETAILED DOCUMENTS

[Document 1/2]

================================================================================
Document ID: 3971711530
Title: Task brief: Website Scanner - Local Testing
Type: page
Status: current
Space: Product (PROD)
Parent Path: Product > 4. Products & Teams > Speedboat : A11Y Testing > 4.c A11Y Testing Task Briefs > Accessibility Speedboat - Task briefs > BrowserStack Accessibility Testing > Post GA task briefs
Child Pages: None
Version: 60
Created/Modified: 2023-12-15T05:42:51.974Z
Last Modified By: ABHISHEK THAMMAN (Deactivated)
URL: https://browserstack.atlassian.net/wiki/spaces/PROD/pages/3971711530

CONTENT:
What is the problem? Users of Website Scanner face the following problems currently: Late-Stage issue discovery & Longer Development cycles : Accessibility issues may only be discovered in the later stages of development or during production, leading to costly and time-consuming retroactive fixes. This can also increase the risk of releasing inaccessible content to the public. Accessibility issues discovered late in the development process may require significant rework, leading to delays in project timelines and increased development costs. Reduced Developer Awareness: Developers may not be exposed to accessibility best practices and principles early in the development process, which can result in a lack of awareness and understanding of accessibility requirements. Inefficiencies: Customers might need to rely on manual methods such as using Workflow Scanner for non-public environments. This approach increases the complexity of the testing process, consumes more time and resources, and may result in inconsistencies in identifying and addressing accessibility issues Who is facing this problem and why do they want a solution? Web Developers, Designers & QA testers want to test & monitor the accessibility of their web projects throughout the development cycle, including non-public environments. Product Managers & Accessibility Teams/Consultants are responsible for the overall quality and accessibility of digital products. Late-stage issue discovery can disrupt project timelines. A solution for testing non-public URLs is required for the following reasons: Early identification of accessibility issues saves time and effort, prevents costly retroactive fixes, and helps in creating more inclusive web experiences. Ensure that both public-facing and internal web content meet accessibility standards and avoid legal actions. It eliminates the need for manual testing or using separate tools, saving time and effort. Users can perform accessibility testing within a single tool, reducing complexities and ensuring a more efficient workflow. Customer Requests Clients / customers who have requested for Local Testing on Website Scanner Customer Feedback / Concerns / Questions Link Screenshot / Comments 1 OSB Private URLs support for Website Scanner Customer wants to run Website scanner across locally hosted websites as well Link 2 ThalesDigital Support for local testing for website scanner Their websites are intranet and would want to test that for accessibility Link 3 Virgin Atlantic Support for Local Testing on Website Scanner Link 4 Glassdoor Support for Local Testing on Website Scanner Link 5 Torchbox Support for Staging environment with Website Scanner Link 6 Unknown Local Testing on internal pages Link 7 Unknown Client is currently using SiteImprove and are unable to scan or perform Accessibility testing in their pre-production environment using our tool. Link 8 Unknown Support for testing in Staging environments with Website Scanner Link Why is it worth solving this problem? Market Differentiation: With more focus moving towards the Website scanner, by offering a comprehensive monitoring solution that includes non-public environments, we can differentiate ourselves from competitors. Increased Market Share: Addressing this problem will allow us to tap into a broader market, such as organisations with complex web environments, who want to catch the accessibility issues early on. Customer satisfaction & Retention : Providing a solution for non-public environments improves overall customer satisfaction by contributing to a smoother development process. Existing customers who need accessibility monitoring in their non-public environments are more likely to stay loyal to our product because of the comprehensive offering. How do you measure success? TBD How do other companies solve this problem? Following is the detailed analysis of some of the Accessibility tools in the market which allow Local Testing Company: Product Insights Details Screenshot / Comments 1 Level Access: On-Premise testing Level Access supports local testing as part of the Test Automation integration and not part of their monitoring solution The On-premise tool is available for download. Once set up, it can be run locally and the scan results can be pushed to the platform. Steps: Download On-remise tool package. Install the libraries from the On-premise tool root folder and the vendor folder. Set up the on-premise configuration file : The on-premise configuration file tells the On-premise tool what pages to scan and where to push the results within the platform. Run a test scan: The test performs a few browser actions against a publicly available website and runs an accessibility scan. If the configuration is set up correctly, the results will be pushed to the platform. Run an on-premise test: Go to the root folder and run the test. 2 Siteimprove Not enough publicly available info N/A N/A 3 Silktide Not enough publicly available info N/A N/A Have we tried this before? LCNC has a similar use case where they a have a partner account on the Automate platform. Following docs capture how they have solved for Cloud execution for on-demand and scheduler scans on LCNC: Local Testing through LCNC Cloud Execution - Private websites Use group owners auth_key to run scheduled test suites with localhost/private tests What is the solution? Overview We would like to introduce the capability of scanning pages on websites hosted on localhost, staging and private environments. To support this, we will make use of BrowserStack Local Testing. BrowserStack Local is a tool which provides a means to resolve network resources from the customer&rsquo;s infrastructure. Requirements New Website Scan Modal New Website Scan Modal Feature Description Design 1 Dashboard> Website scanner> New website scan> Website Scan Modal On &lsquo;Set up a website scan&rsquo; modal Display a card with title &ldquo;Add a local testing setup&rdquo; and description &ldquo;Test pages hosted on lower environments.&rdquo; Add &ldquo;New&rdquo; tag on the card which should remain until 3 weeks after the feature shipment. Design: Similar to Link Once a user has enabled Local Testing, check the state of the Central Local Testing (CLT) If the user has Central Local Testing (CLT) enabled on a user/group level, inform the user that the &ldquo;You are using Central Local Testing. Please reach out to your admin, to update any settings.&ldquo; If CLT is not enabled for a user , Using a binary set up by a user: P0 Green The user can enter a local identifier (optional) P2 Yellow Show a list of active binaries owned by the user. The user can choose one of the binaries and the corresponding binary will be used for the scan. The following read-only info will be shown for a binary: Host-info: Combination of "local-identifier", host IP. Binary version: Binary version Force Local: Whether force local has been detected in the agent. Properties: The arguments used (except key) to kickstart the agent. If there is any other info which should not be shared, it should not be shown. Add message: Ensure that the machine has access to the lower environments and the binary is running at the time of scan run. If the user wants to use some other binary: Need help? View configuration guide (Link: TBD) When no binaries exist, user is shown an empty state: No binaries detected. View configuration guide (Link: TBD) to set up a local testing connection Refresh button: If a user, sets up and runs a binary, on clicking on Refresh the recently run binary should be detected and the user should be able to select it. If CLT was enabled later and scans running through Local binaries exist: Stop recurring scans using local binaries. The pre-existing recurring scans should now be resolved through CLT. If the scan is recurring, inform the user &ldquo;Ensure that the binary is running at time of each scan run.&rdquo; P3 Blue List of URLs Manual addition of URLs: If Local Testing is disabled, as soon as a user enters a URL which is not public, we detect that and show warning to the user: You have entered a non-public URL. Enable Local Testing to scan this URL . If the user keeps on adding URLs which are non-public, keep on updating the count in the warning message: You have entered X non-public URLs. Enable Local Testing to scan these URLs. Upload CSV: If Local Testing is disabled, and the uploaded CSV contains one or more non-public URL, show a warning message: 1 non-public URLs: You have entered a non-public URL. Enable Local Testing to scan this URL . Multiple non-public URLs: You have entered X non-public URLs. Enable Local Testing to scan these URLs. Once the local config is added, the card title gets renamed to &ldquo;Local testing setup&rdquo; and displays the following details for the binary: Host info Binary version Force Local Properties https://www.figma.com/file/eyGAuacU4wNkhYhGD3pgve/Local-testing?type=design&node-id=67-24550&mode=design&t=gq5q6vqyEVOePff0-4 Website Scan Modal: Local Testing https://www.figma.com/file/eyGAuacU4wNkhYhGD3pgve/Local-testing?type=design&node-id=41-74766&mode=design&t=gq5q6vqyEVOePff0-4 Central Local Testing enabled https://www.figma.com/file/eyGAuacU4wNkhYhGD3pgve/Local-testing?type=design&node-id=32-26125&mode=design&t=gq5q6vqyEVOePff0-4 Select from list of binaries https://www.figma.com/file/eyGAuacU4wNkhYhGD3pgve/Local-testing?type=design&node-id=32-35782&mode=design&t=gq5q6vqyEVOePff0-4 Empty state: No binaries detected https://www.figma.com/file/eyGAuacU4wNkhYhGD3pgve/Local-testing?type=design&node-id=41-73012&mode=design&t=gq5q6vqyEVOePff0-4 Website Scan Modal: After Local config is set https://www.figma.com/file/eyGAuacU4wNkhYhGD3pgve/Local-testing?type=design&node-id=67-23401&mode=design&t=gq5q6vqyEVOePff0-4 Warning message: Local not enabled but non-public URLs are added Website Scanner Landing Page Website Scanner Landing Page Feature Description Design 1 Dashboard > Website scanner page Under Scan Type, for all scans where local is configured, show the Local icon next to the RECCURING: ON Blue / RECURRING: OFF pill. On hovering, Local Testing enabled is displayed. https://www.figma.com/file/eyGAuacU4wNkhYhGD3pgve/Local-testing?type=design&node-id=64-14372&mode=design&t=gq5q6vqyEVOePff0-4 Website Scanner page 2 Dashboard > Website scanner page > Actions > View Scan details In the &ldquo;View Scan details&rdquo; modal, for a scan with Local enabled, a pill should be shown which says Local . The pill should be placed after the WCAG version and Best practices pill (if applicable), but before Login Configured (if applicable). https://www.figma.com/file/eyGAuacU4wNkhYhGD3pgve/Local-testing-%26-sitemap-generation?type=design&node-id=67-43924&mode=design&t=JKS3IBvgAaAm3irD-4 View Scan details 3 Dashboard > Website scanner page > Actions > Clone scan configurations If the source scan had Local Testing configured, If CLT is enabled: No further action required from user for Local Testing. Inform that the &ldquo;You are using Central Local Testing. Please reach out to your admin, to update any settings.&rdquo; If CLT is not enabled: User is the author of the source scan: Local config details get copied over. The user can discard the config and enable local testing with custom setup. User is not the author of the source scan: No info gets copied over and the owner is shown a message that the local info did not get copied over. You will have to setup local for this scan if you want to scan non-public pages. If the source scan did not have Local configured: The user should get option to configure login and should be shown flow similar to what is shown for a new website scan. https://www.figma.com/file/eyGAuacU4wNkhYhGD3pgve/Local-testing?type=design&node-id=41-73012&mode=design&t=gq5q6vqyEVOePff0-4 Clone scan: author https://www.figma.com/file/eyGAuacU4wNkhYhGD3pgve/Local-testing?type=design&node-id=67-24550&mode=design&t=gq5q6vqyEVOePff0-4 Clone-scan: Non-author Monitoring Dashboard for a scheduled scan Monitoring Dashboard for a scheduled scan Feature Description Design 1 Top section If Local testing has been enabled for a scan, then: Local testing dropdown: If CLT is being used for the scan display message in dropdown: Central Local Testing is configured and enabled for this scan. For any settings updates, please contact your admin. If CLT is not enabled: Author viewing the scan: Display local identifier, if any in the dropdown Non-author: Only display Local Testing is enabled https://www.figma.com/file/eyGAuacU4wNkhYhGD3pgve/Local-testing-%26-sitemap-generation?type=design&node-id=41-77290&mode=design&t=1dqFK5tTRT0wNv4z-4 CLT not enabled: Author view https://www.figma.com/file/eyGAuacU4wNkhYhGD3pgve/Local-testing-%26-sitemap-generation?type=design&node-id=67-46033&mode=design&t=1dqFK5tTRT0wNv4z-4 CLT not enabled: Non-Author view https://www.figma.com/file/eyGAuacU4wNkhYhGD3pgve/A11y---Local-testing-%26-sitemap-generation?type=design&node-id=3298-21161&mode=design&t=qpwFllsHw6677XTX-4 CLT enabled Workflows Error Scenarios Error Scenarios Issue Encountered Description Error handling Design 1 Local connection not established Local is enabled for the scan but local testing through BrowserStack is not connected since the start of the scan. As the Local connection was not established, the entire scan should be killed. Retry for 3 times. Website scanner page: Error for latest scan run : Scan error Error on scan run report: Title: Local connection error Description: Local connection could not be established https://www.figma.com/file/eyGAuacU4wNkhYhGD3pgve/Local-testing?type=design&node-id=64-20867&mode=design&t=gq5q6vqyEVOePff0-4 Error on Website Scanner Page for latest scan run https://www.figma.com/file/eyGAuacU4wNkhYhGD3pgve/Local-testing?type=design&node-id=64-22868&mode=design&t=gq5q6vqyEVOePff0-4 Error on scan run report shown across all tabs 2 Local binary is running but unable to connect If Local Testing is being run correctly but is not able to connect. the user&rsquo;s company network may be blocking the connection with a proxy (this is common). The binary does autodetect proxy details, but the user may still need to add the proxy details while running the binary. This info will be made available through the doc. An example Local Testing configuration with proxy settings would look similar to this: --proxy-host localhost --proxy-port 8000 --proxy-user tester01 --proxy-pass ]]> Public pages would be scanned. For the pages in lower environments which are not accessible, the HTTP errors would be shown. N/A 3 Local connection breaks Local is enabled for the scan and local testing connection breaks in between the scan. For all the pages already scanned, show the appropriate page status. For the pending and current page, Page status - Error Description - Local connection not established https://www.figma.com/file/eyGAuacU4wNkhYhGD3pgve/Local-testing-%26-sitemap-generation?type=design&node-id=41-211923&mode=design&t=1dqFK5tTRT0wNv4z-4 Local Connection breaks Accessibility Requirements Accessible names have been added on the design file wherever an explicit label is required. Design Link Instrumentation Instrumentation for Website Scanner: Local Testing Tool Element Trigger Event Details Attributes Type Access Task Status 1 Accessibility Dashboard Website scanner > Home page Clicked on New website scan, individual scans, individual scan configurations InteractedWithWSHomepage If actionType = Open scan OR Scan changes, then include local = True False Existing BigQuery & Amplitude Update tracking TODO Yellow 2 Interacted with New Website Scan Modal InteractedWithWSNewWebsiteScanView local = True OR False For local = True, type = CLT Binary Existing BigQuery & Amplitude Update tracking TODO Yellow 3 Landed on Select a Binary Modal OnSelectBinaryView New BigQuery & Amplitude New tracking TODO Yellow 4 Interacted with Select a Binary Modal InteractedWithSelectBinaryView actionType = Confirm local binary Refresh binaries View configuration guide Cancel If user confirms a selected binary from the list: actionType = Confirm local binary action = Confirm a selected local binary binaryStatus = Active Inactive If user clicks on Refresh when few binaries are already listed: actionType = Refresh binaries action = Refresh existing list of binaries If user clicks on Refresh when no binary is listed: actionType = Refresh binaries action = Refresh when no binaries are listed If user clicks on View config guide when few binaries are already listed: actionType = View configuration guide action = View config guide when list of binaries exist If user clicks on View config guide when no binary is listed: actionType = View configuration guide action = View config guide when no binaries are listed New BigQuery & Amplitude New tracking TODO Yellow 5 Website scanner > Scan > Overview Interacted with Scan Overview page InteractedWithWSScanOverview local = True False Add actionType = View local testing data If Local = True and if user clicks on the &ldquo;Local testing setup&rdquo; dropdown actionType = View local testing data action = View local testing config details author = True OR False Existing BigQuery & Amplitude Update tracking NEED TO IMPLEMENT FOR WEBSITE SCANNER Purple Content Content Doc Priority Description Link 1 Learn how to Add a Local testing setup to Website scan P0 Green Feature walkthrough and steps on setting up a binary Link 2 Website Scanner: Local Testing Troubleshooting guide P0 TBD TBD Appendix Docs links: Learn about Local Testing: Link Tunnel Management: Link Service accounts: Link Central Local Testing: Link How Local Testing happens for environments hosted behind firewalls? Customers can also test their environments hosted behind firewalls* by performing IP whitelisting. In this case, we can provide the customer with a fix (set of) IP address(es) and when our devices attempt to resolve any traffic for this customer, we use these IP address(es) for that communication. &rarr; the lower environments should have a domain name that can resolved from the public DNS providers aka internet in general. Refer IP whitelisting for more information. Note: If the customer does not want to use BrowserStack Local and IP Whitelisting, then they can use any port forwarding tool (like ngrok) to expose their lower environments on the internet. Evaluating such tools with security policy will be customer&rsquo;s task and BrowserStack will not be responsible for such systems. Why we cannot use Local App? Local identifiers cannot be used in case of app. On-demand scan Binaries running through a user&rsquo;s credentials: User needs to ensure that the binaries are running at the time of an on-demand scan. Setup: Download binaries and unzip the unzip the downloaded file and move it to a folder/directory from which you have permission to start it using your command line or terminal. Run this command in your terminal to start the BrowserStack Local binary. Your working directory should be where you have the downloaded binary Note: If your staging environment is behind a proxy or firewall, additional arguments, such as proxy username, proxy password, etc, need to be set. Check out Local Binary parameters to learn about additional arguments. Set up config to enable browserstack.local Check: Binary running? Yes: Move forward No: Throw error Binaries running centrally Through CLT Through Service Account Recurring scan Binaries running through a user&rsquo;s credentials: User needs to ensure that the binaries are running at the time of every scan run. Setup: Download binaries and unzip the unzip the downloaded file and move it to a folder/directory from which you have permission to start it using your command line or terminal. Run this command in your terminal to start the BrowserStack Local binary. Your working directory should be where you have the downloaded binary Note: If your staging environment is behind a proxy or firewall, additional arguments, such as proxy username, proxy password, etc, need to be set. Check out Local Binary parameters to learn about additional arguments. Set up config to enable browserstack.local Check: Binary running? Yes: Move forward No: Throw error for scan run Binaries running centrally Central Local Testing already configured : If a customer has this feature enabled, all users from the group don't need to run binary. If they do try to run a session with their auth token, that connection is ignored, and all traffic will be routed through the central tunnel. The central binary will act as the single source of local connections for the user / group. Now with this feature enabled a user can run local test with key different than the central key. In this case, the binary connection used will be the central binary connection. We will detect the central local connection and depending on whether force-local was passed, public urls would be resolved either from the repeater or the central binary. Private urls such as localhost etc will be resolved from the central binary. Through Service account : Owner/Admin can configure the binary using Service account credentials and ensure it is running at the time of scan runs. If this route, needs to be followed show the user list of local identifiers to choose. Setup a shared binary: Approach 1 : If the customer does not have a common setup in place, when a user enables Local, the user is provided with a link to the documentation which guides how an admin/owner can request for a common setup. The owner/admin has to run a binary (preferably through a service account Key) and reach out to us through the Support channel to enable resharing of this binary for the entire group. The owner/admin can also enforce a binary just for Accessibility. The owner/admin needs to ensure that: The binary is running at the time of all the linked scan runs. The machine on which the binary is running has access to the lower environments. Future phase: Future phase: Feature Description Screenshot / Comments 1 Dashboard> Website scanner> New website scan> Website Scan Modal On &lsquo;Set up a website scan&rsquo; modal Display a toggle with title &ldquo;Enable local testing&rdquo; and description &ldquo;Test websites hosted on localhost, staging or other lower environments.&rdquo; Once a user has enabled Local Testing, check the state of the Central Local Testing (CLT) If the user has Central Local Testing (CLT) enabled on a user/group level, inform the user that the &ldquo;You are using Central Local Testing. Please reach out to your admin, to update any settings.&ldquo; If CLT is not enabled for a user, then the user gets two options: P4 Red Use shared binaries (If owner/admin has setup a binary on a central machine and has allowed its usage for all users. Only owner/admin can setup a shared binary ): Shared binaries available: Provide a list of binaries that have been shared by the owner/admin. The user can choose from one of the shared binaries and the corresponding binary would be used for the scan. The following read-only info will be shown for a binary: Binary version: Binary version Force Local: Whether force local has been detected in the agent. Properties: The arguments used (except key) to kickstart the agent. If there is any other info which should not be shared, it should not be shown. Host-info: Combination of "local-identifier", host IP. Duration: The time that the tunnel has been active for. Last Activity: Time since last known byte exchange on this tunnel. Owner: Identifier for service account / Email for a user Shared by Active: Yes/ No Warning message: If user is selecting a binary that is not currently active, show a warning message: This binary is not currently active. If you are using this, ensure to keep it running at the time of Website scan runs. Add message: Ensure that the machine has access to the lower environments and the binary is running at the time of scan run. Want to use some other binary? Reach out to your owner/admin. Refer documentation (TBD) Shared binaries not available: Inform the users that an admin can setup a shared binary. Reach out to your owner/admin. Refer documentation (TBD) P0 Green Using a binary set up by a user (If user wants to set up individual instances of tunnel): Show a list of binaries owned by the user. The user can choose one of the binaries and the corresponding binary will be used for the scan. The following read-only info will be shown for a binary: Host-info: Combination of "local-identifier", host IP. Binary version: Binary version Force Local: Whether force local has been detected in the agent. Properties: The arguments used (except key) to kickstart the agent. If there is any other info which should not be shared, it should not be shown. Status: Active/ Inactive Warning message : If user is selecting a binary that is not currently active, show a warning message: This binary is not currently active. If you are using this, ensure to keep it running at the time of Website scan runs. Add message: Ensure that the machine has access to the lower environments and the binary is running at the time of scan run. Want to use some other binary? Guide user to set up a local binary. No binaries exist: User is shown an empty state. Need help configuring Local for your network? View configuration guide (Link: TBD) If a user, sets up and runs a binary on their own, the recently run binary should be detected and the user should be able to select it. If the scan is recurring, inform the user &ldquo;Ensure that the binary is running at time of each scan run.&rdquo; Once the details for local testing are added, show a card to display local configured with details. P4 Red If owner/admin wants to enforce a binary just for Accessibility: If scans using Local already exist: TBD Red If a user tries to enable Local after Enforce Binary settings has been enabled: Similar to CLT flow. Inform the user that the &ldquo;Local Testing settings have been setup by your owner/admin. Please reach out to your admin, to update any settings.&ldquo; All requests should be resolved through the enforced binary. P3 Blue List of URLs Manual addition of URLs: If Local Testing is disabled, as soon as a user enters a URL which is not public, we detect that and show warning to the user: You have entered a non-public URL. Enable Local Testing to scan this URL . If the user keeps on adding URLs which are non-public, keep on updating the count in the warning message: You have entered X non-public URLs. Enable Local Testing to scan these URLs. Upload CSV: If Local Testing is disabled, and the uploaded CSV contains one or more non-public URL, show a warning message: 1 non-public URLs: You have entered a non-public URL. Enable Local Testing to scan this URL . Multiple non-public URLs: You have entered X non-public URLs. Enable Local Testing to scan these URLs. P4 Red How can a customer setup a shared binary? Approach 1 : User setups a binary using the guide and confirms the sharing of binary through the support channel Approach 2 : The owner/admin has to run a binary (preferably through a service account Key). To enable sharing of these binaries, we will have a Local Testing settings page on the Accessibility Dashboard, where an owner/admin can select the binary to be shared with other users in the group. Refer Local Testing Settings Page section Approach 3 : The owner/admin can take resharing/enforcing decisions for the running binaries through Account > Settings > Tunnel Management. Ensure that a shared binary can only be used for Website Scanner use case. Any org or team level settings for a shared binary should be honoured. Feature Description Screenshot / Comments 1 Dashboard > Website scanner page Under Scan Type, for all scans where login is configured, show the Local icon next to the RECCURING: ON Blue / RECURRING: OFF pill. On hovering, Local Testing enabled is displayed. 2 Dashboard > Website scanner page > Actions > View Scan details In the &ldquo;View Scan details&rdquo; modal, for a scan with Local enabled, a pill should be shown which says Local . The pill should be placed after the WCAG version and Best practices pill (if applicable), but before Login Configured (if applicable). 3 Dashboard > Website scanner page > Actions > Clone scan configurations If the source scan had login configured, If CLT is enabled: No further action required from user for Local Testing. Inform that the &ldquo;You are using Central Local Testing. Please reach out to your admin, to update any settings.&rdquo; If CLT is not enabled: P4 Red If source scan was using binary configured by owner/admin: The same config gets copied over. The user can discard the config and enable local testing with custom setup. If source scan was using binary using the owner&rsquo;s access key: User is the author of the source scan: Local config details get copied over. The user can discard the config and enable local testing with custom setup. User is not the author of the source scan: No info gets copied over and the owner is shown a message that the local info did not get copied over. You will have to setup local for this scan if you want to scan non-public pages. If the source scan did not have Local configured: The user should get option to configure login and should be shown flow similar to what is shown for a new website scan. Feature Description Screenshot / Comments 1 Top section If Local testing has been enabled for a scan, then: Local testing dropdown: If CLT is being used for the scan display appropriate message. P4 Red If using binary being ran by admin. Display - You are using binary configured by your admin. If author: Display local identifier, if any If using own binary: Show the following information for the binary used in the scan: Display the local-identifier, if any. Feature Description Screenshot / Comments 1 Local testing Settings page: Owner/admin is provided with a list of the tunnel connections started using binaries in the organization. The owner/admin can choose one or more of these binaries for sharing. The following details are available for a binary: Agent: Agent (Chrome / Firefox / Binary) version Force Local: Whether force local has been detected in the agent. Properties: The arguments used (except key) to kickstart the agent. If there is any other info which should not be shared, it should not be shown. Host-info: Combination of "local-identifier", host IP. Duration: The time that the tunnel has been active for. Last Activity: Time since last known byte exchange on this tunnel. Owner: Email for a user Active: Yes/ No Shared for Website Scanner checkbox On selecting a binary, provide a checkbox to enable enforcement of the binary for all Website Scans using Local. The owner/admin can select this checkbox only for one of the selected binaries. If an enforced binary already exists and the user tries to select &ldquo;Enforce binary&rdquo; for another binary, provide the user the warning of previous binary getting unselected and the new one getting selected for enforcement. Confirm button: On clicking this button, a modal appears up and information message TBD Red is shared. Owner/admin reconfirms sharing of the binary Warnings: If owner/admin is sharing a binary that is not currently active, show a warning message: This binary is not currently active. If you are sharing this, ensure to keep it running at all times for a seamless Local Testing experience for all users. If owner/admin is sharing a binary not created through a Service account, show a warning message: This binary is running through a user&rsquo;s access key. It is recommended to share binaries created through Service accounts. For a group having CLT enabled, appropriate message would be shown on the Local Testing settings page. Message: TBD Red Ensure that a shared binary can only be used for Website Scanner use case. Any org or team level settings for a shared binary should be honoured.
================================================================================


[Document 2/2]

================================================================================
Document ID: 4016570436
Title: Local testing implementation - Website Scanner
Type: page
Status: current
Space: Engineering (ENG)
Parent Path: Engineering > Teams > Accessibility Speedboat > Engineering Items
Child Pages: None
Version: 24
Created/Modified: 2023-12-06T05:22:12.789Z
Last Modified By: Chinmaya Patanaik
URL: https://browserstack.atlassian.net/wiki/spaces/ENG/pages/4016570436

CONTENT:
What problem are we solving? We want to provide users the ability to run a11y tests on non-public webpages. This will involve adding support for Local testing in accessibility testing flows. This will be integrated with the current Website scanner product. What are the requirements & constraints of the problem? Item Information Comments Critical Requirements Allow Website scanner tests to be run in non-public webpages. APIs to be used by front-end to support Local testing. Handling failure scenarios Webpage load failure in Automate sessions. Reporting changes Important Requirements Instrument various components. API response Integration with railsApp local flow. Page load time for public vs non-public webpages. Nice-to-have Requirements What are the possible solutions for solving this problem? Brief overview Interface / apis API path: accessibility.browserstack.com/ Timeout: 5 secs Action Endpoint Parameters Response Upstream APIs at local.browserstack.com Implementation Fetch Local settings (Accessibility side) GET /api/v1/local_testing/settings None /local/v1/user_settings Trigger it When the user lands on Accessibility dashboard. Once the key has expired. Cache at Accessibility service: Yes (Redis). Fetch Local settings (Rails side) GET /local/v1/user_settings N/A Add basic auth support Fetch a list of local tunnels (Accessibility side) GET /api/v1/local_testing/tunnels None /local/v1/user_tunnels Trigger it when the user lands on Accessibility dashboard. Paginate the number of items to max 10. Sort the tunnels based on active state. Cache at Accessibility service: No Fetch a list of local tunnels (Rails side) GET /local/v1/user_tunnels N/A Add basic auth support Save local testing option in Scan config POST /api/scan_configs N/A N/A Update the parameters of existing create_scan API. Website scanner dashboard /site-scanner N/A N/A Add local_testing info to existing response. Website scanner report /site-scanner/scan-details/<id> N/A N/A Add local_testing info to existing response. Scan details /api/scan_configs/<id> Add local_testing info to existing response. Auth failure Applicable to all endpoints N/A N/A Backend 5xx Applicable to all endpoints N/A N/A Failure of downstream APIs (APIs to local.browserstack.com failed or timed out) Applicable to CLT check List all tunnels N/A N/A Schema Feature Data storage Implementation Local testing related information RDS We&rsquo;ll add a new column local_testing_info in scan_configs table. It&rsquo;ll contain Whether CLT is enabled for the group Redis Redis set: local_testing::central_local_testing This will contain a list of group_ids. List of local tunnels N/A We won&rsquo;t be storing this info at Accessibility service. This data will change very frequently (every time the user runs a binary). There&rsquo;s a huge possibility of our data getting out-of-sync with Local data at Common RDS. Workflow Changes in Accessibility automate flow To test for accessibility issues in non-public websites, we&rsquo;ll have to launch a Local Automate sessions. For this, we need to map the local settings info (Selected by the user) to Automate capabilities. Capability Comments local: true Launches a local automate session local_identifier: <tunnel_ID> Selected by the user from a list of tunnels. Testing requirements Scenarios Expected result CLT enabled Show a list of local tunnels. User can select any tunnel. A new scan with Local enabled (Success) New option to be stored in scan config. Create params for local tunnel. Convert the local specific params to Automate capabilities. Send the updated capabilities to Bolt to run a Local Automate session. A new scan with Local enabled (Failure) Local connection error message on the UI. A new scan with Local disabled No changes to the current workflow. Logging N/A Deploys Accessibility service Normal deploy Bolt Normal deploy Metrics Tracking numbers related to the spec for debugging and health of the system. Infrastructure Monitoring Metrics Resource: CPU, IO, Disk & Memory (HootHoot, Nagios) Machine State: Shutdown, Processes, Clock Time Network: DNS, Latency, Packet Loss (Smokeping, HootHoot, Librenms etc.) Performance: 90% response time, memory footprint of the app/component (App Level - Email health report - CLS/HootHoot) Alerting Basis metrics above Feature stability and/or performance based (a) pushover alerts or (b) coloring in health report to your Important Engineering metrics How HA is implemented Redis failovers N/A RDS failovers N/A How to scale the system N/A Debugging Support TBA Engineering TBA Dependencies We&rsquo;ll be hitting local.browserstack.com to fetch information about the user&rsquo;s local setup. Check with Local team whether they&rsquo;ll be able to handle our scale? Compliance & Security GDPR What all user data will be collected How are you planning to use that data Is there any PII information N/A What will be the data deletion / retention policy N/A SOC2 6 complete Data transfer is encrypted? 7 complete Data storage is encrypted? 8 complete Data backups exist? 9 complete Production and staging envs are different? 10 complete Accesses are different for prod and staging? Security (spec approval needed from security team as well) Any new API added Any new user input added in UI Any configuration change in backend (firewall, port etc.) - which could expose the risk Any password changed / introduced - how it is being managed. Checklist 11 complete For third party tools - N/A 12 complete Production data stays in US region Reviewers and Reviewer Feedback Refer: Spec Review Process Open questions Error scenario: The scan contains multiple public and local URLs but only the local URL failed. How would we show the error to the user? References Task brief: Website Scanner - Local Testing https://www.figma.com/file/eyGAuacU4wNkhYhGD3pgve/Local-testing-%26-sitemap-generation?type=design&node-id=0-1&mode=design&t=oB0Y65ghQRynWPPG-0 LCNC Replay Runs on Automate
================================================================================

